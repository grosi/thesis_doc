%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
% Titel:   Grundlagen
% Autor:   zursr1, gross10
% Datum:   28.05.2014
% Version: 0.0.1
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
%:::Change-Log:::
% Versionierung erfolgt auf folgende Gegebenheiten: -1. Release Versionen
%                                                   -2. Neue Kapitel
%                                                   -3. Fehlerkorrekturen
%
% 0.0.0       Erstellung der Datei
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\chapter{Grundlagen}\label{ch:grundlagen}
%

%
% Anatomie des Knies
\section{Anatomie des Knies}
Das Kniegelenk ist eines der grössten und komplexesten Gelenke im Körper. Das Knie ist die Verbindung zwischen Ober- und Unterschenkel. An diesem Gelenk sind somit diese beiden Knochen sowie die Kniescheibe angebracht. Die Kniescheibe schützt das Gelenk von vorne. Die Funktion des Gelenks kann als Art Drehscharnier verstanden werden. Der medizinische Begriff ist Dreh-Winkelgelenk. Dieser Gelenktyp erlaubt eine sehr grosse Beweglichkeit und unterstützt sowohl Scharnier- wie auch Rotationsbewegungen. Das Gelenk besitzt zwei Freiheitsgarde. Die Bewegung des Kniegelenks findet also in zwei Ebenen statt, diese sind die \gls{g:sagitalebene} sowie die \gls{g:transversalebene}. Die meisten Bewegungen kommen in der \gls{g:sagitalebene} vor. Das Kniegelenk ist in zwei Gelenke unterteilt. Eines verbindet Oberschenkel und Schienbein, ein weiteres Oberschenkel und Kniescheibe.  Das Wadenbein ist nicht am Gelenk beteiligt. \par 
%
\image{content/2_grundlagen/image/anatomie_Knie}{scale=0.6}{htbp}[Aufbau des Kniegelenkes \cite{img:knie}][Trapeznäherung][img:trapez]
%
Zwei Bandsysteme sichern die Stabilität des Kniegelenkes und führen die Bewegung des Kniegelenkes. Dies sind zum einen zwei Seitenbänder (Aussen- und Innenband), die an der Seite des Knies angebracht sind und zum andern die Kreuzbänder. Die Seitenbänder sichern das gestreckte Gelenk und lassen in diesem Fall keine Rotationsbewegung zu. Die Kreuzbänder hingegen halten das Gelenk zusammen und sorgen für die Stabilität falls das Knie gebeugt ist \cite{lit:knie2}. 
%
% Funktion des Kreuzbandes
\subsection{Kreuzbandriss}\label{s:funktion_kreuzband}
Das Kreuzband hat im Knie als erste Funktion, die Bewegungsfähigkeit des Kniegelenkes zu beschränken. Somit kann das Knie nicht überstreckt oder beliebig gebeugt werden. Die zweite Funktion ist die Stabilisierung der Verbindung zwischen Ober- und Unterschenkel. Genau diese Stabilität ist bei einem verletzen Kreuzband nicht mehr gewährleistet, was sich bei Belastung mit einer schrägen Auslenkung des Knies bemerkbar macht. \par
%
Das Kreuzband wird in Sportarten in welchen grosse Belastungen des Knies mit Tätigkeiten wie Rennen, Springen oder allgemein in stop \& go-Sportarten wie Unihockey oder Fussball besonders belastet. Eine Gute Rehabilitation des Verletzen Sportlers ist besonders wichtig. Studien der USA in der professionellen Football-Liga haben gezeigt, dass die Karriere von Sportlern mit mehrfachem Kreuzbandriss im Durchschnitt kürzer ist als solche von Sportlern mit nur einfachem oder keinem Kreuzbandriss. Aus diesem Grund sollte ein möglichst grossen Wert auf den richtig getimten Wiedereinstieg ins Training gelegt werden. Somit können Folgeschäden am Kreuzband und darauffolgende Beeinträchtigungen der Karriere des Sportlers vermindert werden \cite{lit:knie}.
%
%
%LabVIEW auf NI myRIO
\section{LabVIEW auf NI myRIO}
	In der Konzept- und Implementationsphase\footnote{für detaillierte Erläuterungen zu den Projektphasen sei auf den Abschnitt \vref{ss:ablauf_gliederung_projekt} verwiesen} wird das Werkzeug \gls{g:labview} der Firma \gls{ac:ni} verwendet. \gls{g:labview} ist die Abkürzung für \textsf{Laboratory Virtual Instrument Engineering Workbench} und stellt eine Entwicklungsumgebung und eine grafische Programmiersprache dar. Es wurde in den 70er Jahren von den Mitgründer von \gls{ac:ni}, Jim Truchard und Jeff Kodosky entworfen und wird stetig weiter entwickelt. Im Gegensatz zu den gängigen Hochsprachen wie C/C++ sind in \gls{g:labview} der Datenfluss im Zentrum und nicht Kontrollstrukturen, soll heissen das Datenflussprinzip wird verfolgt \cite[19-22]{lit:labview}.
	%
	\subsection{Aufbau und Struktur}\label{ss:aufbau_struktur}
		Ein \gls{g:labview}-Projekt besteht aus mindestens einem \gls{ac:vi}, indem sich Funktionsblöcke oder weitere \gls{ac:vi}s befinden können. Eine \gls{ac:vi} stellt sich zusammen aus einem Frontpanel und einem Blockdiagramm zusammen. Das Frontpanel stellt dabei die Benutzeroberfläche dar, dagegen das Blockdiagramm die eigentliche Funktionalität beinhaltet.\par
		%
		Ein wichtiger Aspekt im Aufbau eines \gls{g:labview}-Projekts ist die Unterscheidung zwischen dem \gls{g:host} und dem \gls{g:target}. Der \gls{g:host} bezeichnet dabei der Computer mit installiertem \gls{g:labview} und das \gls{g:target} ein zu \gls{g:labview} kompatible embedded Hardware, z.B. eine Datenerfassungskarte. Daten die auf dem \gls{g:target} erfasst werden, befinden sich trotz bestehender Kommunikation zum \gls{g:host} nicht automatisch auf demselben. Sie werden stattdessen auf dem internen Speicher des \gls{g:target}s gespeichert und müssen anschliessen aus diesem Speicher extrahiert werden\footnote{dieses Fallbeispiel bezieht sich auf die Hardware \gls{g:myrio}}. Ebenso wird zwischen \gls{ac:vi}s auf dem \gls{g:host} und \gls{g:target} unterschieden. Sie müssen für beide Systeme separat gestartet werden. Die Aufteilung ist im Projektdialog durch eine unterschiedliche Dateibaumtiefe visualisiert, wie der Abbildung \vref{img:labview_gliederung} zu entnehmen ist.
		%
		\image{content/2_grundlagen/image/labview_gliederung}{scale=0.7}{htbp}[\gls{g:labview}-Gliederung][img:labview_gliederung]
	%
	\subsection{Hardware}\label{ss:myRIO_hw}
		Für die Datenerfassung wird das \gls{g:myrio} eingesetzt. Es handelt sich dabei um ein günstiges Developmentboard für den raschen Einstieg in \gls{g:labview}. Es bietet folgende für das Projekt notwendige Spezifikationen\footnote{nähere Angaben sind im Datenblatt im Anhang \vref{ch:datasheet_myrio} zu finden}:
		\begin{itemize}
			\item Prozessor/FPGA Xilinx Z-7010 (Cortex A9), 2 Kerne à \unit[667]{MHz}
			\item \unit[256]{MB} Flash, \unit[512]{MB} RAM
			\item USB 2.0 Hi-Speed
			\item Accelerometer, 3 Achsen, $\pm$\unit[8]{g}, \unit[12]{bit} Auflösung
		\end{itemize}
		%
		Die gesamte Hardware, inklusive Beschleunigungssensor ist in einem kompakten Gehäuse verbaut, wie die Abbildung \vref{img:myrio} zeigt. Die Befestigung kann auf einfache weise mit Hilfe von drei Schrauben erfolgen.
		%
		\image{content/2_grundlagen/image/myrio}{scale=0.2}{htbp}[\gls{g:myrio} \cite{img:myrio}][\gls{g:myrio}][img:myrio]
		%
		\subsubsection*{Bedienung}
			Das \gls{g:myrio} benutzt als Betriebssystem ein Real Time Linux von \gls{ac:ni}. Dies bietet dem Nutzer eine Vielzahl von Möglichkeiten das \gls{g:myrio} zu bedienen \cite{lit:rt_linux}.
			%
			\begin{description}
				\item[\gls{g:labview}] Normalerweise erfolgt die Bedienung via \gls{g:labview}. Dabei werden \gls{ac:vi}s erstellt und auf das \gls{g:myrio} geladen. Zusätzlich besteht die Möglichkeit mit Hilfe vorgefertigter \gls{ac:vi}s direkt auf das Real Time Linux zuzugreifen (siehe \vref{img:myrio_cmd}).
				\image{content/2_grundlagen/image/labview_myrio_cmd}{scale=0.9}{htbp}[System-\gls{ac:vi}s auf \gls{g:myrio} \cite{img:myrio_labview}][System-\gls{ac:vi}s auf \gls{g:myrio}][img:myrio_cmd]
				%
				\item[NI MAX] MAX steht für Measurement \& Automation Explorer und ist ein Werkzeug für die Verbindungsaufnahme und Konfiguration von \gls{ac:ni} Hardware wie das \gls{g:myrio}. Ausserdem stehen abhängig von der Hardware unterschiedliche Diagnose-Werkzeuge zur Verfügung. Die Installation von NI MAX erfolgt zeitgleich mit \gls{g:labview} \cite{lit:ni_max}. 
				%
				\item[Weboberfläche] Das \gls{g:myrio} stellt eine Weboberfläche für die Konfiguration bereit. Damit können im gleichen Umfang wie in der Software NI MAX Einstellungen vorgenommen werden. Ergänzend besteht die Möglichkeit auf das interne Dateisystem via HTTP zu zugreifen.  
				%
				\item[Terminal] \label{i:terminal}Um direkt die Möglichkeiten des Real-Time Linux anzuwenden kann via \gls{g:ssh} ein Verbindung zum \gls{g:myrio} hergestellt werden. Dazu ist unter Windows ein Terminal-Client erforderlich\footnote{Beispielsweise kann die Software PuTTY eingesetzt werden: \url{http://www.putty.org/}. Als Alternative kann auch Cygwin mit den richtigen Paketen dienen: \url{http://cygwin.com/index.html}}. Ausserdem muss die Funktion \textsf{Secure Shell Server (SSHD) deaktivieren}\footnote{\textbf{Achtung:} Hierbei handelt es sich um einen Übersetzungsfehler Englisch/Deutsch. In der englischen Version nenn sich die Option \textsf{Enable Secure Shell Server (sshd)}} aktiviert werden (via NI MAX oder Weboberfläche). Für ein Verbindungsaufbau werden noch die IP-Adresse und Benutzername/Passwort des \gls{g:myrio} benötigt. Wurden keine Änderungen vorgenommen, so sind dies die folgenden Daten:
				\begin{itemize}
					\item IP-Adresse: 172.22.11.2
					\item Benutzername: admin
					\item Passwort: \textit{leer}
				\end{itemize}
				Konnte eine Kommunikation hergestellt werden, so erscheint eine normale Terminal-Prompt, wie in der Abbildung \vref{img:myrio_ssh} ersichtlich.
				\image{content/2_grundlagen/image/putty_myrio}{scale=0.7}{htbp}[Bedienung via \gls{g:ssh}][img:myrio_ssh]
			\end{description}
		%
		\subsubsection*{Daten extrahieren}
			Wie in Abschnitt \vref{ss:aufbau_struktur} bereits erläutert, werden in \gls{g:labview} erstellte Dateien auf dem internen Speicher der \gls{g:myrio} abgelegt. Der Datentransfer zum \gls{g:host} kann über drei Arten erfolgen:
			\begin{description}
				\item[HTTP/\gls{g:webdav}] Die einfachste Möglichkeit ist die Daten via eines Webbrowsers direkt vom \gls{g:myrio} herunterzuladen. Dies wird ermöglicht durch \gls{g:webdav}, einem offenem Standard für Datenkommunikation im Internet. Für den Zugriff muss zum einem der Richtige Pfad und zum anderen die korrekten Benutzerdaten angegeben werden:
				\begin{itemize}
					\item Pfad: \texttt{http://172.22.11.2/files/}
					\item Benutzername: admin
					\item Passwort: \textit{leer}
				\end{itemize}
				Daufhin präsentiert sich ein einfacher Dateiexplorer, wie Abbildung \vref{img:myrio_webdav} zeigt.
				\image{content/2_grundlagen/image/webdav_myrio}{scale=0.5}{htbp}[Dateiexplorer][img:myrio_webdav]
				%
				\item[\gls{g:labview}] Sollen die Daten während des Ausführens des \gls{ac:vi}s an den \gls{g:host} übertragen werden, bietet sich ein Netzwerk-Stream an. Dieser erlaubt es ein zuvor definierte Datenstruktur kontinuierlich zu übertragen. Für das Aufbauen einen Netzwerkverbindung muss zum einen auf dem \gls{g:target} ein \textsf{Network Stream Writer Endpoint} erzeugt werden, auf den Daten entweder einzeln oder in Paketen geschrieben werden können. Dieser Writer Endpoint wird jedoch nur erfolgreich erzeugt wenn auf seitens des \gls{g:host} ein \textsf{Network Stream Reader Endpoint} erzeugt wird. Der Reader Endpoint erlaubt es die übertragenen Daten aus dem Stream zu extrahieren, wonach sie weiter verarbeitet, angezeigt und/oder gespeichert werden können. Ein minimales Konstrukt, was die Übertragung von Daten erlaubt, ist in der Abbildung \vref{img:netstream} ersichtlich. Für detaillierte Informationen über die Möglichkeiten eines Netzwerk-Streams sei auf \cite{lit:labview_networkstream} hingewiesen.
				\image{content/2_grundlagen/image/network}{scale=0.9}{htbp}[Netzwerk-Stream \cite{img:labview_networkstream}][Netzwerk-Stream][img:netstream]
				%
				\item[\gls{g:ssh}] Ein \gls{g:ssh}-Server bietet \gls{ac:sftp} für die sichere Übertragung von Daten. Dazu müssen die zuvor unter Terminal \vpageref{i:terminal} erwähnten Bedingungen erfüllt sein. Für den Dateitransfer dient das Kommando \texttt{scp}, das wie in Listing \vref{list:sftp} gezeigt angewendet wird.
				%
				\begin{lstlisting}[style=bash,caption={SFTP angewendet},label={list:sftp}]
scp admin@172.22.11.2:/Pfad/zur/Datei /Pfad/zur/Zieldatei
				\end{lstlisting}  
				%
			\end{description}
%
%
%Rotationsmatrix
\section{Rotationsmatrix}\label{sub:rot}
In der Linearen Algebra bietet die Rotationsmatrix die Möglichkeit, einen Punkt im Raum um einen bestimmten Winkel $\phi$ zu drehen. Im vorliegenden Falle ist eine Rotation eines Punktes um eine Gerade im Raum gewünscht. Dies wurde in der Linearen Algebra und Geometrie 2 (BZG1104 LINAL2) mit Herrn Jenni im zweiten Semester behandelt \cite{lit:linalg2}.\par
%
Ziel ist, den Punkt P mit den Koordinaten $\left(x\mid y\mid z\right)$ um den Winkel $\phi$ im Gegenuhrzeigersinn um die Gerade g in den Punkt P' mit Koordinaten $\left(x'\mid y'\mid z'\right)$ zu drehen. Die Gerade g hat dabei die Richtung $\overrightarrow{n}=\left(a\;b\;c\right)^{T}$ und verläuft durch den Ursprung. Ihre Parameterdarstellung ist somit: $\overrightarrow{r}= \lambda*\overrightarrow{n}$ mit $\lambda\;\epsilon\;\mathbb{R}$.\par
%
\image{content/2_grundlagen/image/rotmat}{scale=0.6}{htbp}[Drehung des Punktes P in P' \cite{img:linalg2}][Drehung des Punktes P in P'][img:rotmat]
%           
Die Rotationsmatrix ist wie schon erwähnt definiert durch den Drehwinkel $\phi$ und der Geraden respektive Rotationsachse g. In dieser Matrix wird wie in Abbildung \vref{img:rotmat} ersichtlich zuerst der Schnittpunkt S der Geraden g mit der Ebene E berechnet. In der Ebene E liegen die Punkte P und P', sie steht senkrecht auf die Gerade g. Aus dem Schnittpunkt S und dem Ausgangspunkt P ist die Berechnung des gedrehten Punktes P' möglich. Die Berechnung des gedrehten Punktes P' mit der Rotationsmatrix lässt sich wie in Gleichung \vref{eq:rot} zusammenfassen.\par
%
%Berechnung des gedrehten Punkt P'
\formula{
            \left(\begin{array}{c}x'\\ y'\\z'\end{array}\right)=R_{g;O;\overrightarrow{n};\phi}*\left(\begin{array}{c}x\\ y\\z\end{array}\right)
        }{
            R_{g;O;\overrightarrow{n};\phi} & Rotationsmatrix mit Winkel $\phi$ um die Gerade g}[eq:rot]\par
%
Auf die Zusammensetzung der Rotationsmatrix soll nicht weiter eingegangen werden. Sie beinhaltet die oben genannten Rechnungsschritte. Zur Anwendung genügt der Aufbau der Matrix zu kennen, welcher in Gleichung \vref{eq:rotmax} ersichtlich ist:\par  
%
% Aufbau der Rotationsmatrix
\formula{
            R_{g; O; \overrightarrow{n}; \phi} &= \cos(\phi)*\begin{bmatrix}1 & 0 & 0 \\0 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix}+\frac{(1-\cos(\phi))}{a^{2}+b^{2}+c^{2}}*\begin{bmatrix}a^{2} & ab & ac \\ ab & b^{2} & bc \\ ac & bc & c^{2} \end{bmatrix}\\&+\frac{\sin(\phi)}{\sqrt{a^{2}+b^{2}+c^{2}}}*\begin{bmatrix}0 & -c & b \\ c & 0 & -a \\ -b & a & 0 \end{bmatrix}
        }{ 
           }[eq:rotmax]        
%
% nummerische Integration          
\section{Nummerische Integration}\label{sec:numint}
Da nicht alle Integrale analytisch unter der Verwendung von elementaren Funktionen berechnet werden können, ist man auf nummerische Verfahren angewiesen. Mittels diesen nummerischen Verfahren wird das Integral mit in unserem Fall durch die Abtastfrequenz bestimmter Genauigkeit approximiert. In der Vorlesung Analysis 2 (BZG1102 ANALY2) im zweiten Semester bei Herrn Bäni wurden dazu drei verschiedene Verfahren präsentiert. Diese sind die linke und rechte Rechtecknäherung sowie die Trapeznäherung. Die hier genannten Angaben wurden mithilfe der Quelle \cite{lit:baeni} erarbeitet.
%
\subsubsection*{Rechtecknäherung}
Bei der Rechtecknäherung wird zwischen der linken und rechten Näherung unterschieden. Bei der linken Rechtecknäherung wird der linke Funktionswert wie in Abbildung \vref{img:rechteck} dargestellt als Höhe der zur berechnenden Fläche unter der Kurve verwendet. Bei der rechten Näherung dementsprechend der rechte Funktionswert. \par
%
% Rechtecknäherung
\image{content/2_grundlagen/image/rechtecknaeherung_bearb}{scale=0.6}{htbp}[Rechtecknäherung \cite{img:baeni}][Rechtecknäherung][img:rechteck]	
%
Das Integral setzt sich anschliessend als Summe aller dieser berechneten Flächen zusammen und kann rekursiv, wie in Gleichung \vref{eq:rechteck} für die linke Rechtecknäherung aufgezeigt, berechnet werden.
%
\formula{
y(n) = y(n-1) + T_a * x(n-1)            
}{ 
y(n) & Integral von Beginn bis zur Stelle n\\
T_a & Abtastrate\\
x(n-1) & Abgetasteter Wert an Stelle n -1 
           }[eq:rechteck]
%
% Trapeszmethode
\subsubsection*{Trapezmethode}
Bei der Trapezmethode wird der Funktionswert zwischen den beiden abgetasteten Werten zusätzlich linear approximiert. Damit erreichen man mit nahezu gleichem Rechenaufwand eine wesentlich bessere Näherung im Vergleich zur Rechtecknäherungen. Diese Verbesserung ist in Abbildung \vref{img:trapez} ersichtlich. \par
%
% Trapeszmethode
\image{content/2_grundlagen/image/trapeznaeherung_bearb}{scale=0.6}{htbp}[Trapeznäherung \cite{img:baeni}][Trapeznäherung][img:trapez]
%
Auch hier kann das Integral auf relativ einfache Weise rekursiv berechnet werden wie in Gleichung \vref{eq:trapez} zu sehen ist.
%
\formula{
y(n) = y(n-1) + \frac{T_a}{2}  (x(n)+x(n-1))            
}{ 
y(n) & Integral von Beginn bis zur Stelle n\\
T_a & Abtastrate\\
x(n) & Abgetasteter Wert an Stelle n 
           }[eq:trapez]
%           
%%
%% Adaptives Filter
%\section{Adaptives Filter}
%Ein adaptives Filter ist eine besondere Art von digitalem Filter. Dieses Filter hat die Möglichkeit seine Filterkoeffizienten und somit seine Filtereigenschaften während dem Betrieb anzupassen. Die neuen Filterkoeffizienten werden dabei aus den alten Filterkoeffizienten und der ermittelten Aktualisierung berechnet (z. Bsp. anhand der Differenz/Fehler zwischen $y(n)$ und $\hat{y}(n)$). Diese Berechnung erfolgt mit jedem neuen Sample. Das Prinzip ist in Abbildung \vref{img:adaptives_Filter} ersichtlich.\par
%% 
%% Prinzip adaptives Filter
%\image{content/2_grundlagen/image/adaptives_Filter}{scale=0.6}{htbp}[Prinzip eines adaptiven Filters][Prinzip eines adaptiven Filters][img:adaptives_Filter]
%% 
%Das Signal $x(n)$ wird von einem unbekannten System mit additivem Fehler $e(n)$ (z. Bsp. Rauschen oder Offset) zu $y(n)$ geformt. Dieses System soll mit einer adaptiven Methode geschätzt werden um somit ein geschätztes Ausgangssignal $\hat{y}(n)$ zu erhalten welches möglichst genau dem Ausgangssignal des unbekannten Systems entspricht. Aus dem geschätzten Ausgangssignal $\hat{y}(n)$ und dem Ausgang des unbekannten Systems $y(n)$ kann durch Subtraktion der Fehler $\epsilon(n)$ berechnet werden. Aus diesem Fehler und den alten Filterkoeffizienten werden die neuen Filterkoeffizienten bestimmt. Das Ausgangssignal des unbekannten Systems $y(n)$ nimmt in diesem Fall eine Art \glqq Lernfunktion\grqq ein. Das geschätzte Signal $\hat{y}(n)$ wird an diese \glqq Lernfunktion\grqq mit der adaptiven Filterung angenähert. Die Aktualisierung der Filterparameter wird mit verschiedenen Algorithmen erreicht. Ein häufig verwendetes Verfahren ist beispielsweise der \gls{ac:lms}-Algorithmus. Dieser Algorithmus ist einfach umzusetzen und beruht auf dem \gls{g:gradientenvefahren}.\par
%%
%Für den einfachen Fall, dass das adaptive Filter nur einen Filterkoeffizienten $w$ hat gilt, wie in Gleichung \vref{eq:adaptFilt} dargestellt, folgendes.
%%
%\formula{
%\hat{y}(n) = w * x(n) \\\\
%\epsilon(n) = y(n) -\hat{y}(n)\\ 
% = y(n) - w * x(n)            
%}{ 
%\hat{y}(n) & geschätzte Funktion\\
%w & Filterkoeffizient\\
%x(n) & Eingangssignal\\
%\epsilon(n) & Fehler \\
%y(n) & Lernfunktion
%}[eq:adaptFilt]
%%
%Aus dem Fehler $\epsilon$(n) und dem Filterkoeffizienten $w$ kann nach dem erwähnten \gls{ac:lms}-Algorithmus der neue Filterkoeffizient berechnet werden. Bei diesem Algorithmus wird der nächste Filterkoeffizienten mittels des Gradienten des Fehlers bestimmt. Dies ist in Gleichung \vref{eq:filtkoeff} ersichtlich. \todo{bessere erklären, herleiten}
%%
%\formula{
%w_{n+1} =w_n + \mu \left\{ -\frac{\partial \epsilon(n)^2}{\partial w_n}\right\} \\
%= w_n + \mu*\epsilon(n)*x(n)            
%}{ 
%w_{n+1} & neuer Filterkoeffizient\\
%w_{n} & aktueller Filterkoeffizient\\
%\mu & Vorfaktor\\
%\epsilon(n) & Fehler\\
%x(n) & Eingangssignal 
%}[eq:filtkoeff]
%% 
%Der Vorfaktor $\mu$ hat Einfluss auf die Geschwindigkeit und Stabilität des Filters. Wird dieser grösser gewählt, so konvergiert das Filter zwar schneller läuft jedoch Gefahr instabil zu werden \cite{lit:adaptFiltVetter}.
%%
%% Gleitender Mittelwert
%\section{Gleitender Mittelwert}
%Beim arithmetischen Mittelwert werden bekanntlich alle Daten aufsummiert und anschliessend durch die Anzahl Messpunkte dividiert. Ein Nachteil dabei ist, dass neue Messpunkte nicht eingebunden werden respektive der gesamte Mittelwert (Aufsummierung und Division) neu berechnet werden muss falls ein neuer Messwert aufgenommen wird. Dabei bietet der gleitende Mittelwert eine elegantere Lösung. Der gleitende Mittelwert ist eine Methode zur Schätzung des Mittelwertes. Bei dieser Methode wird ein sogenanntes rekursives Verfahren angewendet, wobei bei jedem neuen Datenwert die gesuchte Schätzung aus der alten Schätzung und dem erhobenen Datenwert neu berechnet wird. Die Schätzung wird dadurch mit jedem zusätzlichen Messpunkt \glqq genauer\grqq\ und konvergiert gegen den \glqq wahren\grqq\ Wert. Die rekursive Mittelung ist nach \cite{lit:mittelung_eth} in Gleichung \vref{eq:mittelung_eth} definiert.
%% 
%\formula{
%\mu _x(n) = \mu _x(n-1) + \frac{1}{n} *(x(n) - \mu _x(n-1))
%}{ 
%
%}[eq:mittelung_eth]
%%
%Ersetzt man $\frac{1}{k}$ mit $\alpha$ so erhält man nach Umstellen die aus den Vorlesungen bei Herrn Vetter bekannte Gleichung zur rekursiven Mittelwertbildung.
%%
%\formula{
%\hat{\mu} _x(n) = \alpha * x(n) + (1-\alpha) * \hat{\mu _x}(n-1)
%}{ 
%
%}[eq:mittelung_unterricht]
%%
%Da es sich um eine Schätzung handelt, wird in Gleichung \vref{eq:mittelung_unterricht} die Schreibweise $\hat{\mu _x}$ verwendet. Der Faktor $\alpha$ wird auch als Vergessensfaktor bezeichnet. Der Vergessensfaktor $\alpha$ ist $0 < \alpha < 1$ und hat Einfluss auf die Gewichtung der früheren Schätzung ($\mu _x(k-1)$). Wird der Wert nahe 0 gewählt, so werden nach Gleichung \vref{eq:mittelung_unterricht} alte Schätzungen sehr stark beachtet und die neuen Messwerte nahezu nicht gewichtet. Die Schätzung ist dadurch eher statisch. Wird $\alpha$ nahe 1 gewählt, so werden die neu aufgenommenen Werte im Gegensatz zur alten Schätzung sehr stark gewichtet und haben einen grossen Einfluss auf die Mittelwertbildung. Die Schätzung ist eher flüchtig.